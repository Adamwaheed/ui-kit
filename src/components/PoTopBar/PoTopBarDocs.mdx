# Top bar component

import { Story, ArgTypes, Source, Meta } from "@storybook/blocks";

import * as PoTopBarStories from "./PoTopBar.stories";

import dedent from "ts-dedent";

<Meta of={PoTopBarStories} />

<div>
	<Story of={PoTopBarStories.TopBar} />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />.
</div>

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTopBar
      :has-search="true"
      :app-list="allApps"
      :profile-switcher-data="profileSwitcherData"
      :notifications="notifications"
      @profile-switcher-click="handleProfileSwitcherClick"
      app-name="Stories"
      @query="NewSearch"
    >
    <template v-slot:appIcon>
        <BugAntIcon class="po-fill-current" />
    </template>
    </PoTopBar>
  `}
/>

App icon can either be passed in the slot or as a prop `appIcon: BugAntIcon` `:app-icon="BugAntIcon"`.
Search box can be disabled by passing false to `has-search` `:has-search="false"`

From `profileSwitcherClick` event you can get:

- Profile object when a profile is clicked. The object from `profileSwitcherData.profile`.
- `current-profile` when Profile button is clicked.
- `logout` when Logout button is clicked.

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    let allApps = [
    {
        groupName: "",
        apps: [
        {
            name: "First",
            url: "https://firstapp.example.com",
            icon: "https://doodleipsum.com/50x50/abstract?bg=3D27F6&i=cb0515299c600124805d923f3619c1ad",
        },
        {
            name: "Cool",
            url: "https://coolapp.example.com",
            icon: "https://doodleipsum.com/50x50/abstract?bg=EB765D&i=e2dedc7bc9f1a630e177355aa7b1a6c9",
        },
        {
            name: "Coolest",
            url: "https://coolapp.example.com",
            icon: "https://doodleipsum.com/50x50/abstract?bg=7463D9&i=d298131eb7322b7002e6fd50e9dd8c41",
        },
        {
            name: "Another",
            url: "https://coolapp.example.com",
            icon: "https://doodleipsum.com/50x50/abstract?bg=FF3C3C&i=5ef96019d86f8e5221c37d9733cb5492",
        },
        ],
    },
    ];
    let notifications = [
    {
        name: "You are no subscribed",
        time: "now",
        text: "You have subscribed to DMS notifications for Ali Doe",
        seen: false,
    },
    {
        name: "Contribution added",
        time: "5 mins ago",
        text: "Your contribution for the month of January was added sucessfully",
        seen: true,
    },
    ];
    let profileSwitcherData = {
    profiles: [
        {
        name: "Hussain Doe",
        identifier: "",
        url: "#self",
        current: true,
        isPersonal: true,
        },
        {
        name: "Penshion Office",
        identifier: "202301052023",
        url: "#business",
        current: false,
        isPersonal: false,
        },
        {
        name: "ABC Enterprises Pvt Ltd",
        identifier: "202301052026",
        url: "#business",
        current: false,
        isPersonal: false,
        },
    ],
    };
    function handleProfileSwitcherClick(profileObject) {
     // you get profileSwitcherData.profile object
    }
    let searchQuery = ref("");
    function NewSearch(query) {
        searchQuery.value = query;
    }
  `}
/>

### Explanation

<ArgTypes of={PoTopBarStories} />
