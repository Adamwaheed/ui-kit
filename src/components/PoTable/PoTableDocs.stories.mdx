# Table component

import {
	Story,
	ArgsTable,
	Description,
	Source,
	Canvas,
	Meta,
} from "@storybook/addon-docs";

import PoTable from "./PoTable.vue";

import dedent from "ts-dedent";

<Meta title="Content/Table" component={PoTable} />

<Description of={PoTable} />

### With content

<Canvas withToolbar>
	<Story id="content-table--with-content" />
</Canvas>

### Empty

<Canvas withToolbar>
	<Story id="content-table--empty" />
</Canvas>

## Loading

You can set `is-loading` to true, if you want to show placeholder loading indicators.

<Canvas withToolbar>
	<Story id="content-table--loading" />
</Canvas>

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable
      :thead="tableHead"
      :tbody="tableBody"
      :is-loading="true"
    >
    ...
  `}
/>

PoTable uses `data-title=""` attribute to display titles on resposive (mobile) view.

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod }">
        <td data-title="name">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

To get the index of an item in the tbody array, you can add an `index` key to the td object, like this:

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod, index }">
        <td data-title="name" @click="doSomething(index)">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

To get the full object of an item in the tbody array, you can add an `item` key to the td object, like this:

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod, item }">
        <td data-title="name" @click="doSomething(item)">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

You can use `:break-at-lg="true"` to make table responsive at lg.

### Explanation

<ArgsTable of={PoTable} />

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    let tableHead = [
        { label: "Name" },
        { label: "NID" },
        { label: "Source" },
        { label: "DOD" },
    ];
    let tableBody = [
        { name: "Jane Gasim", nid: "A00000", source: "YY Clinic", dod: "2022-11-12" },
        {
            name: "Mariyam Doe",
            nid: "A00000",
            source: "Rashu Council",
            dod: "2022-11-02",
        },
    ];
  `}
/>
