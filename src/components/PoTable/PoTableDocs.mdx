# Table component

import { Story, ArgTypes, Source, Meta } from "@storybook/blocks";

import * as PoTableStories from "./PoTable.stories";

import dedent from "ts-dedent";

<Meta of={PoTableStories} />

### With content

<Story of={PoTableStories.WithContent} />

### Empty

<Story of={PoTableStories.Empty} />

## Loading

You can set `is-loading` to true, if you want to show placeholder loading indicators.

<Story of={PoTableStories.Loading} />

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable
      :thead="tableHead"
      :tbody="tableBody"
      :is-loading="true"
    >
    ...
  `}
/>

PoTable uses `data-title=""` attribute to display titles on resposive (mobile) view.

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod }">
        <td data-title="name">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

To get the index of an item in the tbody array, you can add an `index` key to the td object, like this:

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod, index }">
        <td data-title="name" @click="doSomething(index)">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

To get the full object of an item in the tbody array, you can add an `item` key to the td object, like this:

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    <PoTable :thead="tableHead" :tbody="tableBody">
        <template #th="{ label }">
        {{ label }}
        </template>
        <template #td="{ name, nid, source, dod, item }">
        <td data-title="name" @click="doSomething(item)">{{ name }}</td>
        <td data-title="NID">{{ nid }}</td>
        <td data-title="source">{{ source }}</td>
        <td data-title="dod">{{ dod }}</td>
        </template>
    </PoTable>
  `}
/>

You can use `:break-at-lg="true"` to make table responsive at lg.

### Explanation

<ArgTypes of={PoTableStories} />

<Source
	language="js"
	dark
	format={true}
	code={dedent`
    let tableHead = [
        { label: "Name" },
        { label: "NID" },
        { label: "Source" },
        { label: "DOD" },
    ];
    let tableBody = [
        { name: "Jane Gasim", nid: "A00000", source: "YY Clinic", dod: "2022-11-12" },
        {
            name: "Mariyam Doe",
            nid: "A00000",
            source: "Rashu Council",
            dod: "2022-11-02",
        },
    ];
  `}
/>
